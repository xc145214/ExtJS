<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>grid</title>
    <link rel="stylesheet" href="../share/ext/ext-theme-neptune/build/resources/ext-theme-neptune-all.css">

</head>
<body>


<div id="test"></div>


<script src="../share/ext/ext-all.js"></script>
<script src="../share/ext/ext-theme-neptune/build/ext-theme-neptune.js"></script>
<script src="../share/ext/ext-theme-neptune/build/ext-locale-zh_CN.js"></script>
<script>
    //    Ext.define('bundle', {
    //        extend: 'Ext.data.Model',
    //        fields: [{
    //            name: 'name',
    //            type: 'string'
    //        }, {
    //            name: 'self',
    //            type: 'boolean'
    //        }, {
    //            name: 'title',
    //            type: 'string'
    //        }, {
    //            name: 'type',
    //            type: 'number'
    //        }]
    //    });

    //        var myStore = Ext.create('Ext.data.Store', {
    //            model: 'bundle',
    //            proxy: {
    //                type: 'ajax',
    //                url: 'listDomainModelNode.jsonx',
    //                reader: {
    //                    type: 'json',
    //                    rootProperty: 'data'
    //                }
    //            },
    //            autoLoad: true
    //        });

    Ext.onReady(function () {

        var dataList = {
            "data": {
                "columns": [{
                    "length": 32,
                    "typeTitle": "java.lang.Integer",
                    "type": 4,
                    "name": "file_parent_id",
                    "property": "file_parent_id"
                }, {
                    "length": 32,
                    "typeTitle": "java.lang.Integer",
                    "type": 4,
                    "name": "file_id",
                    "property": "file_id"
                }, {

                    "length": 32,
                    "typeTitle": "java.lang.Integer",
                    "type": 4,
                    "name": "file_type",
                    "property": "file_type"
                }],
                "title": "AAA",
                "type": "TABLE",
                "tableName": "AA"
            }
        };


        Ext.define("Clumns", {
            extend: "Ext.data.Model",
            fields: [
                {name: 'typeTitle', type: 'string'},
                {name: 'name', type: 'string'},
                {name: 'length', type: 'int'},
                {name: 'type', type: 'int'},
                {name: 'property', type: 'string'}
            ]
        });

        var store = Ext.create('Ext.data.Store', {
            model: "Clumns",
            data: dataList.data.columns
        });


        Ext.define("TextViewModel", {
            extend: "Ext.app.ViewModel",
            alias: "viewmodel.test",
            data: dataList.data
        });

        Ext.define("TestView", {
            extend: "Ext.panel.Panel",
            layout: "form",
            viewModel: {
                type: 'test'
            },
            bind: {
                title: "hello world"
            },
            defaultType: 'displayfield',
            items: [
                {
                    xtype: 'displayfield',
                    fieldLabel: 'title',
                    bind: '{title}'
                },
                {
                    xtype: 'displayfield',
                    fieldLabel: 'type',
                    bind: '{type}'
                },
                {
                    xtype: 'displayfield',
                    fieldLabel: 'tableName',
                    bind: '{tableName}'
                },
                {
                    xtype: 'displayfield',
                    fieldLabel: 'tableName',
                    bind: '{tableName}'
                },
                {
                    xtype: "grid",
//                    data: dataList.data.columns,
                    store: store,
                    columns: [
                        {text: 'Name', dataIndex: 'name'},
                        {text: 'property', dataIndex: 'property'},
                        {text: 'typeTitle', dataIndex: 'typeTitle'},
                        {text: 'length', dataIndex: 'length'}
                    ]
                }
            ]
        });


        Ext.create('TestView', {
            renderTo: 'test',
            width: 800
        });

    });


</script>
</body>
</html>